{"version":3,"file":"script.js","names":["document","addEventListener","throttle","callee","timeout","timer","perform","args","console","log","setTimeout","clearTimeout","Animation","trigger","elements","animationName","querySelectorAll","forEach","item","classList","add","remove","defaultAnimate","animate","optimizeAnimateMenu","animateMenu","mainMenu","querySelector","listMenuItem","isAnimate","e"],"sources":["script.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', ()=>{\r\n    // Функция throttle будет принимать 2 аргумента:\r\n    // - callee, функция, которую надо вызывать;\r\n    // - timeout, интервал в мс, с которым следует пропускать вызовы.\r\n    function throttle(callee, timeout) {\r\n        // Таймер будет определять,\r\n        // надо ли нам пропускать текущий вызов.\r\n        let timer = null;\r\n\r\n        // Как результат возвращаем другую функцию.\r\n        // Это нужно, чтобы мы могли не менять другие части кода,\r\n        // чуть позже мы увидим, как это помогает.\r\n        return function perform(...args) {\r\n            // Если таймер есть, то функция уже была вызвана,\r\n            // и значит новый вызов следует пропустить.\r\n            if (timer) return;\r\n\r\n            // Если таймера нет, значит мы можем вызвать функцию:\r\n            console.log(timer)\r\n            timer = setTimeout(() => {\r\n                // Аргументы передаём неизменными в функцию-аргумент:\r\n                callee(...args);\r\n\r\n                // По окончании очищаем таймер:\r\n                clearTimeout(timer);\r\n                timer = null;\r\n            }, timeout);\r\n        };\r\n    }\r\n\r\n\r\n    class Animation{\r\n        constructor({trigger = null, elements = null,animationName = 'default'}) {\r\n            this.trigger  = trigger;\r\n            this.elements = document.querySelectorAll(elements);\r\n            this.animationName = animationName;\r\n        }\r\n\r\n        animate(){\r\n            this.elements.forEach(item=>{\r\n                item.addEventListener(this.trigger, ()=>{\r\n                    item.classList.add('animate_start')\r\n                    setTimeout(()=>{\r\n                        item.classList.remove('animate_start')\r\n                    }, 500)\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    const defaultAnimate = new Animation({\r\n        trigger:'mouseenter',\r\n        elements: '.default_animate'\r\n    })\r\n    defaultAnimate.animate()\r\n\r\n    const optimizeAnimateMenu = throttle(animateMenu, 100)\r\n    const mainMenu = document.querySelector('.main_menu')\r\n    const listMenuItem = mainMenu.querySelectorAll('li')\r\n    let isAnimate = true\r\n    function animateMenu(item) {\r\n        if(isAnimate){\r\n            // for(let i = 0; i < listMenuItem.length; i++){\r\n            //     listMenuItem[i].classList.remove('show_sub_menu')\r\n            // }\r\n            if(item.querySelector('.nav-sub')){\r\n                item.classList.add('show_sub_menu')\r\n                mainMenu.classList.add('open_sub_menu')\r\n            }else {\r\n                return false\r\n            }\r\n        }else{\r\n            item.classList.remove('show_sub_menu')\r\n            mainMenu.classList.remove('open_sub_menu')\r\n        }\r\n\r\n    }\r\n\r\n    listMenuItem.forEach(item=>{\r\n        item.addEventListener('mouseover', (e)=>{\r\n            optimizeAnimateMenu(item)\r\n            isAnimate = true\r\n        })\r\n        item.addEventListener('mouseout', ()=>{\r\n            isAnimate = false\r\n            optimizeAnimateMenu(item)\r\n        })\r\n    })\r\n});"],"mappings":"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"}